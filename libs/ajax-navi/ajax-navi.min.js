!function(){"use strict";function f(a){d.removeClass("current-page");for(var b=0,c=d.length;b<c;b++){var e=$(d[b]);e.attr("href")===a&&e.addClass("current-page")}}function g(d,h){d.length>2&&"/"===d[d.length-1]&&(d=d.slice(0,-1));var i=d,j=i.replace(/#\//,"");return Logger.debug("fullHref",i),Logger.debug("noHashHref",j),i===e?void Logger.warn("Same page, not loading anything."):(e=i,0===j.length&&(j="home"),f(i),void $.ajax({url:"pages/"+j+".html"}).done(function(d){h?window.history.pushState(null,null,i):window.history.replaceState(null,null,i);var e=j.replace(/-/g," ").replace(/\//g," / ").split(" ");e.forEach(function(a,b){e[b]=a.charAt(0).toUpperCase()+a.slice(1)}),e=e.join(" "),document.title=c+" â€” "+e,window.scrollTo(0,0),a.html(d),b.removeClass(function(a,b){return(b.match(/(^|\s)page-\S+/g)||[]).join(" ")}).addClass("page-"+j.replace(/\//g,"-"))}).fail(function(a){Logger.error("ajax.fail",a),g("#/404",!0)}))}function h(){var a=window.location,b=a.hash;Logger.debug("location",a),"#!"!==b&&(b.length>0?(Logger.debug("hash",b),g(b,!1)):(b="#/",g(b,!1)))}var e,a=$("#main"),b=$("body"),c=document.title,d=$(".ajax-link");d.on("click",function(a){a.preventDefault(),Logger.debug("#",$(this).attr("href").indexOf("#"));var b=$(this).attr("href");b.indexOf("#")!==-1&&g(b,!0)}),$(window).on("load popstate",function(a){Logger.info("popstate",a),h()}),navigator.userAgent.toLowerCase().indexOf("msie")&&(window.onhashchange=function(){h()})}();